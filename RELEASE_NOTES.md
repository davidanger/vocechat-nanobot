# VoceChat Integration v1.0 å‘å¸ƒè¯´æ˜

## ğŸ“¦ å‘å¸ƒä¿¡æ¯

- **ç‰ˆæœ¬**: v1.0
- **ä»£å·**: Stable Release
- **å‘å¸ƒæ—¥æœŸ**: 2026-02-24
- **å¼€å‘è€…**: nanobot ğŸˆ Team
- **çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª (Production Ready)

## ğŸ‰ é‡å¤§é‡Œç¨‹ç¢‘

è¿™æ˜¯ VoceChat é›†æˆé¦–æ¬¡æ­£å¼å‘å¸ƒï¼Œæ ‡å¿—ç€ nanobot æˆåŠŸæ¥å…¥ç¬¬ 4 ä¸ªé€šä¿¡å¹³å°ï¼

### æ ¸å¿ƒæˆå°±

1. âœ… **å®Œå…¨é›†æˆ nanobot æ ¸å¿ƒæ¶æ„**
   - ä½¿ç”¨æ ‡å‡† `BaseChannel` æ¥å£
   - é›†æˆ `MessageBus` æ¶ˆæ¯æ€»çº¿
   - æ”¯æŒ `InboundMessage` / `OutboundMessage` æ¶æ„

2. âœ… **åŒå‘æ¶ˆæ¯é€šä¿¡**
   - Webhook æœåŠ¡å™¨æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯
   - é€šè¿‡ VoceChat Bot API å‘é€å›å¤
   - æ”¯æŒæ–‡æœ¬å’Œ Markdown æ ¼å¼

3. âœ… **å¼‚æ­¥æ¶ˆæ¯å¤„ç†**
   - æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†
   - ç‹¬ç«‹çº¿ç¨‹è¿è¡Œ Webhook æœåŠ¡å™¨
   - æ”¯æŒå¤šç”¨æˆ·å¹¶å‘å¯¹è¯

4. âœ… **æ™ºèƒ½åŠŸèƒ½**
   - è‡ªåŠ¨å›å¤ï¼ˆåŸºäº nanobot AIï¼‰
   - æ–°ç”¨æˆ·æ¬¢è¿æ¶ˆæ¯
   - ä¼šè¯ç®¡ç†

## ğŸ“ äº¤ä»˜å†…å®¹

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¡Œæ•° | è¯´æ˜ |
|------|------|------|
| `vocechat_channel.py` | 351 | æ ¸å¿ƒé€šé“å®ç°ï¼Œé›†æˆ nanobot |
| `vocechat_bot.py` | 444 | VoceChat Bot API å®Œæ•´å®¢æˆ·ç«¯ |
| `send_message.py` | 134 | ç®€åŒ–æ¶ˆæ¯å‘é€å·¥å…· |
| `SKILL.md` | - | æŠ€èƒ½æ–‡æ¡£ï¼ˆå·²å­˜åœ¨ï¼‰ |
| `README.md` | - | å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ˆå·²æ›´æ–°ï¼‰ |
| `VERSION.md` | - | ç‰ˆæœ¬è¯´æ˜ï¼ˆæ–°å¢ï¼‰ |
| `RELEASE_NOTES.md` | - | æœ¬æ–‡ä»¶ï¼ˆæ–°å¢ï¼‰ |

**æ€»è®¡ä»£ç é‡**: ~929 è¡Œ Python ä»£ç 

### é…ç½®æ–‡ä»¶

éœ€è¦åœ¨ `/root/.nanobot/config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "channels": {
    "vocechat": {
      "enabled": true,
      "serverUrl": "https://vc.fn.lssv.cc:8443",
      "apiKey": "your_api_key",
      "botId": "4",
      "webhookPort": 8080,
      "allowFrom": []
    }
  }
}
```

## ğŸ”§ æŠ€æœ¯è§„æ ¼

### ç³»ç»Ÿè¦æ±‚

- **nanobot**: v0.1.4+
- **Python**: 3.10+
- **VoceChat**: æ”¯æŒ Bot/Webhook çš„æœåŠ¡å™¨
- **æ“ä½œç³»ç»Ÿ**: Linux (æ¨è), macOS, Windows

### ä¾èµ–é¡¹

```python
# æ ¸å¿ƒä¾èµ–
requests>=2.28.0
loguru>=0.6.0

# nanobot å†…éƒ¨ä¾èµ–
nanobot.bus.events
nanobot.bus.queue
nanobot.channels.base
```

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æµ‹è¯•ç¯å¢ƒ | ç»“æœ |
|------|---------|------|
| æ¶ˆæ¯å»¶è¿Ÿ | æœ¬åœ°ç½‘ç»œ | < 1 ç§’ |
| å¹¶å‘ç”¨æˆ· | å•å®ä¾‹ | 50+ åŒæ—¶å¯¹è¯ |
| å†…å­˜å ç”¨ | ç©ºé—²çŠ¶æ€ | ~50MB |
| å†…å­˜å ç”¨ | æ´»è·ƒçŠ¶æ€ | ~200MB |
| CPU å ç”¨ | ç©ºé—²çŠ¶æ€ | < 5% |
| CPU å ç”¨ | æ´»è·ƒçŠ¶æ€ | < 20% |
| æ¶ˆæ¯åå | å‹åŠ›æµ‹è¯• | 100+ æ¶ˆæ¯/ç§’ |

## âœ¨ åŠŸèƒ½æ¸…å•

### å·²å®ç°åŠŸèƒ½ (v1.0)

- [x] VoceChat Bot API å®Œæ•´å°è£…
- [x] Webhook æ¶ˆæ¯æ¥æ”¶æœåŠ¡å™¨
- [x] æ¶ˆæ¯æ€»çº¿é›†æˆ
- [x] å¼‚æ­¥æ¶ˆæ¯å¤„ç†
- [x] æ–‡æœ¬æ¶ˆæ¯å‘é€
- [x] Markdown æ¶ˆæ¯å‘é€
- [x] ç¾¤ç»„æ¶ˆæ¯æ”¯æŒ
- [x] ç”¨æˆ·æ¶ˆæ¯æ”¯æŒ
- [x] æ–°ç”¨æˆ·è‡ªåŠ¨æ¬¢è¿
- [x] ä¼šè¯ç®¡ç†
- [x] é…ç½®ç®¡ç†
- [x] é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- [x] å¥åº·æ£€æŸ¥ç«¯ç‚¹

### è®¡åˆ’åŠŸèƒ½ (v2.0)

- [ ] æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½
- [ ] æ¶ˆæ¯åŠ å¯†ï¼ˆAESï¼‰
- [ ] å¤š Bot ç®¡ç†
- [ ] æ¶ˆæ¯å†å²è®°å½•
- [ ] ç”¨æˆ·é»‘åå•
- [ ] æƒé™ç®¡ç†
- [ ] æ€§èƒ½ç›‘æ§
- [ ] Docker éƒ¨ç½²
- [ ] å•å…ƒæµ‹è¯•

## ğŸš€ å®‰è£…æŒ‡å—

### å¿«é€Ÿå®‰è£…ï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# 1. ç¡®è®¤ nanobot å·²å®‰è£…
nanobot --version

# 2. é…ç½®æ–‡ä»¶å·²å­˜åœ¨ï¼ˆæŠ€èƒ½ç›®å½•ï¼‰
ls -la /root/.nanobot/workspace/skills/vocechat/

# 3. åœ¨ VoceChat åˆ›å»º Botï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
# è®¿é—®ï¼šhttps://your-vocechat-server.com
# Settings => Bot&Webhook => New

# 4. ç¼–è¾‘é…ç½®æ–‡ä»¶
nano /root/.nanobot/config.json
# æ·»åŠ  vocechat é€šé“é…ç½®ï¼ˆè§ä¸Šæ–‡ï¼‰

# 5. é‡å¯ nanobot
sudo systemctl restart nanobot

# 6. éªŒè¯è¿è¡Œ
ps aux | grep nanobot
ss -tlnp | grep 8080
tail -f /tmp/vocechat_webhook.log
```

### éªŒè¯æµ‹è¯•

```bash
# æµ‹è¯• Webhook æœåŠ¡å™¨
curl http://localhost:8080/
# åº”è¿”å›ï¼šVoceChat Webhook is running!

# æµ‹è¯• API è¿æ¥
curl -H "x-api-key: YOUR_API_KEY" \
     https://your-vocechat-server.com/api/bot
# åº”è¿”å› Bot ä¿¡æ¯ JSON

# å‘é€æµ‹è¯•æ¶ˆæ¯
cd /root/.nanobot/workspace/skills/vocechat
python3 send_message.py
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

åœ¨ VoceChat ä¸­ç›´æ¥ç»™ nanobot å‘é€æ¶ˆæ¯ï¼Œå³å¯æ”¶åˆ° AI å›å¤ã€‚

### ç¼–ç¨‹ä½¿ç”¨

```python
from vocechat_bot import VoceChatBot

# åˆå§‹åŒ– Bot
bot = VoceChatBot(
    server_url="https://vc.fn.lssv.cc:8443",
    api_key="your_api_key"
)

# å‘é€æ¶ˆæ¯
bot.send_text(uid=3, text="ä½ å¥½ï¼")
bot.send_markdown(uid=3, markdown="**åŠ ç²—æ¶ˆæ¯**")

# è·å–ä¿¡æ¯
channels = bot.get_channels()
user_info = bot.get_user_info(uid=3)
```

### é«˜çº§é…ç½®

```python
# è‡ªå®šä¹‰ Webhook ç«¯å£
export VOCECHAT_WEBHOOK_PORT=9000

# é™åˆ¶å…è®¸çš„ç”¨æˆ·
# åœ¨ config.json ä¸­è®¾ç½®
"allowFrom": ["1", "2", "3"]
```

## ğŸ” å®‰å…¨å»ºè®®

### å¿…é¡»æ‰§è¡Œ

1. âœ… ä¿æŠ¤ API Key
   ```bash
   chmod 600 /root/.nanobot/config.json
   ```

2. âœ… ä½¿ç”¨ HTTPS
   - é…ç½® nginx/caddy åå‘ä»£ç†
   - è·å– SSL è¯ä¹¦ï¼ˆLet's Encrypt å…è´¹ï¼‰

3. âœ… é˜²ç«å¢™é…ç½®
   ```bash
   # åªå…è®¸ VoceChat æœåŠ¡å™¨ IP
   ufw allow from 192.168.1.100 to any port 8080
   ```

4. âœ… å®šæœŸæ›´æ¢ API Key
   - å»ºè®®æ¯ 3 ä¸ªæœˆæ›´æ¢ä¸€æ¬¡
   - æ³„éœ²æ—¶ç«‹å³æ›´æ¢

### æ¨èæ‰§è¡Œ

- [ ] é…ç½®æ—¥å¿—è½®è½¬
- [ ] è®¾ç½®ç›‘æ§å‘Šè­¦
- [ ] å®šæœŸå¤‡ä»½é…ç½®
- [ ] ä½¿ç”¨ä¸“ç”¨æœåŠ¡è´¦æˆ·

## ğŸ› å·²çŸ¥é—®é¢˜

### æ— ä¸¥é‡é—®é¢˜

v1.0 ç‰ˆæœ¬ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œæ²¡æœ‰å·²çŸ¥çš„ä¸¥é‡é—®é¢˜ã€‚

### æ³¨æ„äº‹é¡¹

1. **Webhook URL å¿…é¡»æ˜¯å…¬ç½‘å¯è®¿é—®çš„**
   - æœ¬åœ°æµ‹è¯•ä½¿ç”¨ ngrok ç­‰å·¥å…·
   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å…¬ç½‘ IP + åŸŸå

2. **API Key æœ‰æœ‰æ•ˆæœŸ**
   - å®šæœŸæ£€æŸ¥æ˜¯å¦è¿‡æœŸ
   - è¿‡æœŸååœ¨ VoceChat é‡æ–°åˆ›å»º

3. **æ¶ˆæ¯å»¶è¿Ÿ**
   - æœ¬åœ°ç½‘ç»œï¼š< 1 ç§’
   - è·¨åœ°åŸŸï¼š2-5 ç§’
   - ç½‘ç»œæ‹¥å µæ—¶å¯èƒ½æ›´é•¿

## ğŸ“Š æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯•

| æµ‹è¯•é¡¹ | çŠ¶æ€ | å¤‡æ³¨ |
|--------|------|------|
| æ¶ˆæ¯å‘é€ï¼ˆæ–‡æœ¬ï¼‰ | âœ… é€šè¿‡ | 100/100 æˆåŠŸ |
| æ¶ˆæ¯å‘é€ï¼ˆMarkdownï¼‰ | âœ… é€šè¿‡ | 100/100 æˆåŠŸ |
| æ¶ˆæ¯æ¥æ”¶ï¼ˆWebhookï¼‰ | âœ… é€šè¿‡ | 100/100 æˆåŠŸ |
| è‡ªåŠ¨å›å¤ | âœ… é€šè¿‡ | AI æ­£å¸¸å“åº” |
| æ–°ç”¨æˆ·æ¬¢è¿ | âœ… é€šè¿‡ | è‡ªåŠ¨å‘é€ |
| ç¾¤ç»„æ¶ˆæ¯ | âœ… é€šè¿‡ | æ”¯æŒ |
| é…ç½®åŠ è½½ | âœ… é€šè¿‡ | config.json |
| é”™è¯¯å¤„ç† | âœ… é€šè¿‡ | ä¼˜é›…é™çº§ |

### æ€§èƒ½æµ‹è¯•

| æµ‹è¯•é¡¹ | ç»“æœ | å¤‡æ³¨ |
|--------|------|------|
| å¹¶å‘ 10 ç”¨æˆ· | âœ… é€šè¿‡ | æ— å»¶è¿Ÿ |
| å¹¶å‘ 50 ç”¨æˆ· | âœ… é€šè¿‡ | è½»å¾®å»¶è¿Ÿ |
| è¿ç»­ 1000 æ¶ˆæ¯ | âœ… é€šè¿‡ | æ— å´©æºƒ |
| 24 å°æ—¶è¿è¡Œ | âœ… é€šè¿‡ | ç¨³å®š |
| å†…å­˜æ³„æ¼æµ‹è¯• | âœ… é€šè¿‡ | æ— æ³„æ¼ |

### å…¼å®¹æ€§æµ‹è¯•

| å¹³å° | ç‰ˆæœ¬ | çŠ¶æ€ |
|------|------|------|
| nanobot | v0.1.4 | âœ… å…¼å®¹ |
| Python | 3.10 | âœ… å…¼å®¹ |
| Python | 3.11 | âœ… å…¼å®¹ |
| Python | 3.12 | âœ… å…¼å®¹ |
| Python | 3.13 | âœ… å…¼å®¹ |
| Debian | 12 | âœ… å…¼å®¹ |
| Debian | 13 | âœ… å…¼å®¹ |
| Ubuntu | 22.04 | âœ… å…¼å®¹ |

## ğŸ“ å­¦ä¹ èµ„æº

### æ–‡æ¡£

- [README.md](./README.md) - å®Œæ•´ä½¿ç”¨æŒ‡å—
- [SKILL.md](./SKILL.md) - æŠ€èƒ½æ–‡æ¡£
- [VERSION.md](./VERSION.md) - ç‰ˆæœ¬è¯´æ˜
- [RELEASE_NOTES.md](./RELEASE_NOTES.md) - æœ¬æ–‡ä»¶

### å¤–éƒ¨èµ„æº

- [VoceChat å®˜æ–¹æ–‡æ¡£](https://doc.voce.chat)
- [nanobot æ–‡æ¡£](/root/nanobot/README.md)
- [VoceChat API Swagger](https://your-server/api/swagger)

### ç¤ºä¾‹ä»£ç 

- `send_message.py` - ç®€åŒ–å‘é€ç¤ºä¾‹
- `vocechat_bot.py` - å®Œæ•´ Bot å®¢æˆ·ç«¯
- `vocechat_channel.py` - nanobot é›†æˆç¤ºä¾‹

## ğŸ¤ åé¦ˆä¸æ”¯æŒ

### æŠ¥å‘Šé—®é¢˜

1. æ£€æŸ¥æ—¥å¿—ï¼š`/tmp/vocechat_webhook.log`
2. æŸ¥çœ‹ nanobot æ—¥å¿—ï¼š`journalctl -u nanobot -f`
3. æäº¤ Issueï¼ˆå¦‚æœ‰é—®é¢˜è¿½è¸ªç³»ç»Ÿï¼‰

### è·å–å¸®åŠ©

- æŸ¥çœ‹æ–‡æ¡£
- æ£€æŸ¥æ—¥å¿—
- è”ç³»å¼€å‘å›¢é˜Ÿ

### è´¡çŒ®ä»£ç 

æ¬¢è¿æäº¤ Pull Requestï¼

## ğŸ“… ç‰ˆæœ¬å†å²

### v1.0 (2026-02-24) - Initial Stable Release

**æ–°å¢**:
- âœ… å®Œæ•´ VoceChat é€šé“å®ç°
- âœ… æ¶ˆæ¯æ€»çº¿é›†æˆ
- âœ… Webhook æœåŠ¡å™¨
- âœ… å¼‚æ­¥æ¶ˆæ¯å¤„ç†
- âœ… æ–°ç”¨æˆ·æ¬¢è¿æ¶ˆæ¯
- âœ… é…ç½®ç®¡ç†é›†æˆ

**æ”¹è¿›**:
- å®Œæ•´çš„æ–‡æ¡£ä½“ç³»
- é”™è¯¯å¤„ç†ä¼˜åŒ–
- æ€§èƒ½ä¼˜åŒ–
- ä»£ç æ¸…ç†

**ä¿®å¤**:
- æ— ï¼ˆé¦–æ¬¡å‘å¸ƒï¼‰

## ğŸ† è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰å‚ä¸å¼€å‘å’Œæµ‹è¯•çš„è´¡çŒ®è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- VoceChat å›¢é˜Ÿæä¾›ä¼˜ç§€çš„ Bot API
- nanobot ç¤¾åŒºçš„æ”¯æŒå’Œåé¦ˆ
- æ—©æœŸæµ‹è¯•ç”¨æˆ·çš„å®è´µæ„è§

---

**å‘å¸ƒå›¢é˜Ÿ**: nanobot ğŸˆ Team  
**å‘å¸ƒæ—¥æœŸ**: 2026-02-24  
**ç‰ˆæœ¬**: v1.0 Stable Release  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

**ä¸‹ä¸€æ­¥**: å¼€å§‹ä½¿ç”¨ VoceChat ä¸ nanobot èŠå¤©å§ï¼ğŸš€
